<app-header [title]="'Monthly calendar'"></app-header>

<ion-content [fullscreen]="true">
  <div class="home">
    <ion-row class="ion-justify-content-center">
      <ion-col size="12">
        <ion-icon class="home-logo" src="../../assets/full-logo.svg"></ion-icon>
      </ion-col>
      <ion-col size="12">
        <ion-icon class="home-icon" name="calendar-outline"></ion-icon>
        <p class="home-text">Please enter the data requested to generate the corresponding month calendar</p>
      </ion-col>
    </ion-row>
    <form [formGroup]="monthlyForm">
      <ion-grid>
        <ion-row class="ion-justify-content-center">
          <ion-col size-lg="5" size-md="8">
            <ion-list>
              <ion-item mode="md" class="ion-no-padding">
                <ion-label position="floating">Start Date</ion-label>
                <ion-input
                  type="date"
                  formControlName="date"
                  required
                  placeholder="dd/mm/yyyy"
                >
                </ion-input>
              </ion-item>
              <ion-item *ngIf="monthlyForm.controls['date'].errors?.required &&
              monthlyForm.controls['date'].touched" lines="none">
                <ion-label class="home-form-text-danger">
                  Enter a valid date
                </ion-label>
              </ion-item>

              <ion-item *ngIf="monthlyForm.controls['date'].errors?.pattern &&
              monthlyForm.controls['date'].touched" lines="none">
                <ion-label class="home-form-text-danger">
                  The correct format is dd/mm/aaaa
                </ion-label>
              </ion-item>

              <ion-item mode="md" class="ion-no-padding">
                <ion-label position="floating">Numbers of days</ion-label>
                <ion-input
                  type="number"
                  formControlName = "days"
                  required
                >
                </ion-input>
              </ion-item>
              <ion-item *ngIf="monthlyForm.controls['days'].errors?.required &&
              monthlyForm.controls['days'].touched" lines="none">
                <ion-label class="home-form-text-danger">
                  This field is required 
                </ion-label>
              </ion-item>
              <ion-item *ngIf="monthlyForm.controls['days'].errors?.pattern &&
              monthlyForm.controls['days'].touched" lines="none">
                <ion-label class="home-form-text-danger">
                  Must be a positive number and greater than 0
                </ion-label>
              </ion-item>

              <ion-item mode="md" class="ion-no-padding">
                <ion-label position="floating">Country code</ion-label>
                <ion-input
                  type="string"
                  formControlName="code"
                  required
                >
                </ion-input>
              </ion-item>
              <ion-item *ngIf="monthlyForm.controls['code'].errors?.required &&
              monthlyForm.controls['code'].touched" lines="none">
                <ion-label class="home-form-text-danger">
                  This field is required 
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-center">
          <ion-col size-lg="2" size-md="4">
            <ion-button type="submit" class="ion-align-items-center home-form-button" shape="round" expand="block"  mode="ios"
              color="secondary" 
              fill="solid"
              [disabled]="!monthlyForm.valid" 
              (click)="goToCalendar()"
            >
              Calculate
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </div>
</ion-content>
